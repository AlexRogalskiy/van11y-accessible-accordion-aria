/**
 * van11y-accessible-accordion-aria - ES2015 accessible accordion system, using ARIA (compatible IE9+ when transpiled)
 * @version v2.0.0
 * @link https://van11y.net/accessible-accordion/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-accordion-aria/blob/master/LICENSE
 */
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){var t="js-accordion",r="js-accordion__header",n="js-accordion__panel",i="data-accordion-prefix-classes",o="data-accordion-opened",a="data-accordion-multiselectable",c="accordion",u="_tab",l="_panel",s="accordion",f="accordion__title",d="accordion__header",b="accordion__panel",A="tablist",p="tab",y="tabpanel",v="role",g="aria-multiselectable",m="aria-expanded",_="aria-labelledby",h="aria-hidden",k="aria-controls",E="aria-selected",T=function(t){return e.getElementById(t)},L=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},P=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},x=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},C=function(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})},D=function(e){e.forEach(function(e){var t;C(e,(t={},_defineProperty(t,E,"false"),_defineProperty(t,"tabindex","-1"),t))})},N=function(e){e.setAttribute(E,!0),e.removeAttribute("tabindex")},w=function(e,t){var r=void 0;e.forEach(function(e,t){"true"===e.getAttribute(E)&&(r=t)}),"next"===t&&(N(e[r+1]),setTimeout(function(){e[r+1].focus()},0)),"prev"===t&&(N(e[r-1]),setTimeout(function(){e[r-1].focus()},0))},S=function(e,t){for(var r=!1,n=e.parentNode;n&&r===!1;)x(n,t)===!0?r=!0:n=n.parentNode;return r===!0?n.getAttribute("id"):""},j=function(){var r=arguments.length<=0||void 0===arguments[0]?e:arguments[0];return[].slice.call(r.querySelectorAll("."+t))},q=function(e){j(e).forEach(function(e){var t=Math.random().toString(32).slice(2,12),n=e.hasAttribute(i)===!0?e.getAttribute(i)+"-":"";"none"===e.getAttribute(a)?e.setAttribute(g,"false"):e.setAttribute(g,"true"),e.setAttribute(v,A),L(e,n+s);var T=[].slice.call(e.querySelectorAll("."+r));T.forEach(function(i,a){var s,A,g=a+1,T=i.nextElementSibling,x=i.innerHTML,D=document.createElement("BUTTON"),N=i.hasAttribute(o)===!0?i.getAttribute(o):"";D.innerHTML=x,L(D,r),L(D,n+d),C(D,(s={},_defineProperty(s,v,p),_defineProperty(s,"id",c+t+u+g),_defineProperty(s,k,c+t+l+g),_defineProperty(s,E,"false"),_defineProperty(s,"tabindex","-1"),_defineProperty(s,"type","button"),s)),D=e.insertBefore(D,i),T.insertBefore(i,T.firstChild),L(i,n+f),P(i,r),L(T,n+b),C(T,(A={},_defineProperty(A,v,y),_defineProperty(A,_,c+t+u+g),_defineProperty(A,"id",c+t+l+g),A)),"true"===N?(D.setAttribute(m,"true"),i.removeAttribute(o),T.setAttribute(h,"false")):(D.setAttribute(m,"false"),T.setAttribute(h,"true")),1===g&&D.removeAttribute("tabindex")})})};["click","keydown","focus"].forEach(function(t){e.body.addEventListener(t,function(e){if(x(e.target,r)===!0&&"focus"===t){var i=e.target,o=i.parentNode,a=[].slice.call(o.querySelectorAll("."+r));D(a),N(i)}x(e.target,r)===!0&&"click"===t&&!function(){var t=e.target,n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r)),o=n.getAttribute(g),a=T(t.getAttribute(k)),c=t.getAttribute(m);"false"===c?(t.setAttribute(m,!0),a.removeAttribute(h)):(t.setAttribute(m,!1),a.setAttribute(h,!0)),"false"===o&&i.forEach(function(e){var r=T(e.getAttribute(k));e!==t?(e.setAttribute(E,!1),e.setAttribute(m,!1),r.setAttribute(h,!0)):e.setAttribute(E,!0)}),setTimeout(function(){t.focus()},0),e.preventDefault()}(),x(e.target,r)===!0&&"keydown"===t&&!function(){var t=e.target,n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r));36===e.keyCode?(D(i),N(i[0]),setTimeout(function(){i[0].focus()},0),e.preventDefault()):35===e.keyCode?(D(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0),e.preventDefault()):37!==e.keyCode&&38!==e.keyCode||e.ctrlKey?40!==e.keyCode&&39!==e.keyCode||e.ctrlKey||("true"===i[i.length-1].getAttribute(E)?(D(i),N(i[0]),setTimeout(function(){i[0].focus()},0),e.preventDefault()):(w(i,"next"),e.preventDefault())):"true"===i[0].getAttribute(E)?(D(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0),e.preventDefault()):(w(i,"prev"),e.preventDefault())}();var c=S(e.target,n);""!==c&&"keydown"===t&&!function(){var t=T(c),n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r)),o=T(t.getAttribute(_));38===e.keyCode&&e.ctrlKey&&(D(i),N(o),setTimeout(function(){o.focus()},0),e.preventDefault()),33===e.keyCode&&e.ctrlKey&&(D(i),N(o),o.focus(),e.preventDefault(),"true"===i[0].getAttribute(E)?(D(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0)):w(i,"prev")),34===e.keyCode&&e.ctrlKey&&(D(i),N(o),o.focus(),e.preventDefault(),"true"===i[i.length-1].getAttribute(E)?(D(i),N(i[0]),setTimeout(function(){i[0].focus()},0)):w(i,"next"))}()},!0)});var K=function M(){q(),document.removeEventListener("DOMContentLoaded",M)};document.addEventListener("DOMContentLoaded",K),window.van11yAccessibleAccordionAria=q}(document);