/**
 * van11y-accessible-accordion-aria - ES2015 accessible accordion system, using ARIA (compatible IE9+ when transpiled)
 * @version v2.2.1
 * @link https://van11y.net/accessible-accordion/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-accordion-aria/blob/master/LICENSE
 */
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){var t="js-accordion",r="js-accordion__header",n="data-accordion-prefix-classes",i="data-accordion-opened",o="data-accordion-multiselectable",a="data-accordion-cool-selectors",c="accordion",u="_tab",s="_panel",l="accordion",f="accordion__title",d="accordion__header",b="accordion__panel",A="tablist",p="tab",v="tabpanel",y="role",g="aria-multiselectable",m="aria-expanded",h="aria-labelledby",_="aria-hidden",E="aria-controls",L="aria-selected",N=function(t){return e.getElementById(t)},k=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},P=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},T=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},C=function(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})},D=function(e){e.forEach(function(e){C(e,_defineProperty({},L,"false"))})},w=function(e){e.setAttribute(L,!0)},x=function(e,t){var r=void 0;e.forEach(function(e,t){"true"===e.getAttribute(L)&&(r=t)}),"next"===t&&(w(e[r+1]),setTimeout(function(){e[r+1].focus()},0)),"prev"===t&&(w(e[r-1]),setTimeout(function(){e[r-1].focus()},0))},S=function(){var r=arguments.length<=0||void 0===arguments[0]?e:arguments[0];return[].slice.call(r.querySelectorAll("."+t))},j=function(t){var j=arguments.length<=1||void 0===arguments[1]||arguments[1];S(t).forEach(function(e){var t=Math.random().toString(32).slice(2,12),N=e.hasAttribute(n)===!0?e.getAttribute(n)+"-":"",T=e.hasAttribute(a)===!0;"none"===e.getAttribute(o)?e.setAttribute(g,"false"):e.setAttribute(g,"true"),e.setAttribute(y,A),k(e,N+l);var D=[].slice.call(e.querySelectorAll("."+r));D.forEach(function(n,o){var a,l;if(n.parentNode===e||T!==!1){var A=o+1,g=n.nextElementSibling,D=n.innerHTML,w=document.createElement("BUTTON"),x=n.hasAttribute(i)===!0?n.getAttribute(i):"";w.innerHTML=D,k(w,r),k(w,N+d),C(w,(a={},_defineProperty(a,y,p),_defineProperty(a,"id",c+t+u+A),_defineProperty(a,E,c+t+s+A),_defineProperty(a,L,"false"),_defineProperty(a,"type","button"),a)),w=n.parentNode.insertBefore(w,n),g.insertBefore(n,g.firstChild),k(n,N+f),P(n,r),k(g,N+b),C(g,(l={},_defineProperty(l,y,v),_defineProperty(l,h,c+t+u+A),_defineProperty(l,"id",c+t+s+A),l)),"true"===x?(w.setAttribute(m,"true"),n.removeAttribute(i),g.setAttribute(_,"false")):(w.setAttribute(m,"false"),g.setAttribute(_,"true"))}})}),j&&["click","keydown","focus"].forEach(function(t){e.body.addEventListener(t,function(e){T(e.target,r)===!0&&"focus"===t&&!function(){var t=e.target,n=t.parentNode,i=n.hasAttribute(a)===!0,o=[].slice.call(n.querySelectorAll("."+r));i===!1&&(o=o.filter(function(e){return e.parentNode===n})),D(o),w(t)}(),T(e.target,r)===!0&&"click"===t&&!function(){var t=e.target,n=t.parentNode,i=n.hasAttribute(a)===!0,o=[].slice.call(n.querySelectorAll("."+r)),c=n.getAttribute(g),u=N(t.getAttribute(E)),s=t.getAttribute(m);i===!1&&(o=o.filter(function(e){return e.parentNode===n})),"false"===s?(t.setAttribute(m,!0),u.removeAttribute(_)):(t.setAttribute(m,!1),u.setAttribute(_,!0)),"false"===c&&o.forEach(function(e){var r=N(e.getAttribute(E));e!==t?(e.setAttribute(L,!1),e.setAttribute(m,!1),r.setAttribute(_,!0)):e.setAttribute(L,!0)}),setTimeout(function(){t.focus()},0),e.preventDefault()}(),T(e.target,r)===!0&&"keydown"===t&&!function(){var t=e.target,n=t.parentNode,i=n.hasAttribute(a)===!0,o=[].slice.call(n.querySelectorAll("."+r));i===!1&&(o=o.filter(function(e){return e.parentNode===n})),36===e.keyCode?(D(o),w(o[0]),setTimeout(function(){o[0].focus()},0),e.preventDefault()):35===e.keyCode?(D(o),w(o[o.length-1]),setTimeout(function(){o[o.length-1].focus()},0),e.preventDefault()):37!==e.keyCode&&38!==e.keyCode||e.ctrlKey?40!==e.keyCode&&39!==e.keyCode||e.ctrlKey||("true"===o[o.length-1].getAttribute(L)?(D(o),w(o[0]),setTimeout(function(){o[0].focus()},0),e.preventDefault()):(x(o,"next"),e.preventDefault())):"true"===o[0].getAttribute(L)?(D(o),w(o[o.length-1]),setTimeout(function(){o[o.length-1].focus()},0),e.preventDefault()):(x(o,"prev"),e.preventDefault())}()},!0)})},q=function M(){j(),document.removeEventListener("DOMContentLoaded",M)};document.addEventListener("DOMContentLoaded",q),window.van11yAccessibleAccordionAria=j}(document);