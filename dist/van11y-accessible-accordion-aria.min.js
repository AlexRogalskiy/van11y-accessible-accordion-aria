/**
 * van11y-accessible-accordion-aria - ES2015 accessible accordion system, using ARIA
 * @version v1.0.3
 * @link https://van11y.net/accessible-accordion/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-accordion-aria/blob/master/LICENSE
 */
"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){var t="js-accordion",r="js-accordion__header",n="js-accordion__panel",i="data-accordion-prefix-classes",o="data-accordion-opened",u="data-accordion-multiselectable",a="accordion",c="_tab",l="_panel",s="accordion",f="accordion__title",d="accordion__header",b="accordion__panel",A="tablist",p="tab",y="tabpanel",g="role",v="aria-multiselectable",m="aria-expanded",h="aria-labelledby",_="aria-hidden",k="aria-controls",E="aria-selected",T=function(t){return e.getElementById(t)},L=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},x=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},C=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},D=function(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})},P=function(e){e.forEach(function(e,t){var r;D(e,(r={},_defineProperty(r,E,"false"),_defineProperty(r,"tabindex","-1"),r))})},N=function(e){e.setAttribute(E,!0),e.removeAttribute("tabindex")},S=function(e,t){var r=void 0;e.forEach(function(e,t){"true"===e.getAttribute(E)&&(r=t)}),"next"===t&&(N(e[r+1]),setTimeout(function(){e[r+1].focus()},0)),"prev"===t&&(N(e[r-1]),setTimeout(function(){e[r-1].focus()},0))},j=function(e,t){for(var r=!1,n=e.parentNode;n&&r===!1;)C(n,t)===!0?r=!0:n=n.parentNode;return r===!0?n.getAttribute("id"):""},q=function(){return[].slice.call(e.querySelectorAll("."+t))},w=function K(){q().forEach(function(e,t){var n=t+1,T=e.hasAttribute(i)===!0?e.getAttribute(i)+"-":"";e.hasAttribute(i)===!0?e.getAttribute(i):"",e.hasAttribute(u)===!0?e.getAttribute(u):"";"none"==e.getAttribute(u)?e.setAttribute(v,"false"):e.setAttribute(v,"true"),e.setAttribute(g,A),L(e,T+s);var C=[].slice.call(e.querySelectorAll("."+r));C.forEach(function(t,i){var u,s,A=i+1,v=t.nextElementSibling,C=t.innerHTML,P=document.createElement("BUTTON"),N=t.hasAttribute(o)===!0?t.getAttribute(o):"";P.innerHTML=C,L(P,r),L(P,T+d),D(P,(u={},_defineProperty(u,g,p),_defineProperty(u,"id",a+n+c+A),_defineProperty(u,k,a+n+l+A),_defineProperty(u,E,"false"),_defineProperty(u,"tabindex","-1"),u)),P=e.insertBefore(P,t),v.insertBefore(t,v.firstChild),L(t,T+f),x(t,r),L(v,T+b),D(v,(s={},_defineProperty(s,g,y),_defineProperty(s,h,a+n+c+A),_defineProperty(s,"id",a+n+l+A),s)),"true"===N?(P.setAttribute(m,"true"),t.removeAttribute(o),v.setAttribute(_,"false")):(P.setAttribute(m,"false"),v.setAttribute(_,"true")),1===A&&P.removeAttribute("tabindex")})}),["click","keydown","focus"].forEach(function(t){e.body.addEventListener(t,function(e){if(C(e.target,r)===!0&&"focus"===t){var i=e.target,o=i.parentNode,u=[].slice.call(o.querySelectorAll("."+r));P(u),N(i)}C(e.target,r)===!0&&"click"===t&&!function(){var t=e.target,n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r)),o=n.getAttribute(v),u=T(t.getAttribute(k)),a=t.getAttribute(m);"false"===a?(t.setAttribute(m,!0),u.removeAttribute(_)):(t.setAttribute(m,!1),u.setAttribute(_,!0)),"false"===o&&i.forEach(function(e,r){var n=T(e.getAttribute(k));e!==t?(e.setAttribute(E,!1),e.setAttribute(m,!1),n.setAttribute(_,!0)):e.setAttribute(E,!0)}),setTimeout(function(){t.focus()},0),e.preventDefault()}(),C(e.target,r)===!0&&"keydown"===t&&!function(){var t=e.target,n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r));36===e.keyCode?(P(i),N(i[0]),setTimeout(function(){i[0].focus()},0),e.preventDefault()):35==e.keyCode?(P(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0),e.preventDefault()):37!=e.keyCode&&38!=e.keyCode||e.ctrlKey?40!=e.keyCode&&39!=e.keyCode||e.ctrlKey||("true"===i[i.length-1].getAttribute(E)?(P(i),N(i[0]),setTimeout(function(){i[0].focus()},0),e.preventDefault()):(S(i,"next"),e.preventDefault())):"true"===i[0].getAttribute(E)?(P(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0),e.preventDefault()):(S(i,"prev"),e.preventDefault())}();var a=j(e.target,n);""!==a&&"keydown"===t&&!function(){var t=T(a),n=t.parentNode,i=[].slice.call(n.querySelectorAll("."+r)),o=T(t.getAttribute(h));38==e.keyCode&&e.ctrlKey&&(P(i),N(o),setTimeout(function(){o.focus()},0),e.preventDefault()),33==e.keyCode&&e.ctrlKey&&(P(i),N(o),o.focus(),e.preventDefault(),"true"===i[0].getAttribute(E)?(P(i),N(i[i.length-1]),setTimeout(function(){i[i.length-1].focus()},0)):S(i,"prev")),34==e.keyCode&&e.ctrlKey&&(P(i),N(o),o.focus(),e.preventDefault(),"true"===i[i.length-1].getAttribute(E)?(P(i),N(i[0]),setTimeout(function(){i[0].focus()},0)):S(i,"next"))}()},!0)}),document.removeEventListener("DOMContentLoaded",K)};document.addEventListener("DOMContentLoaded",w)}(document);
