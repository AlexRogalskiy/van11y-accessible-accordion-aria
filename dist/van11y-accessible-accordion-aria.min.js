/**
 * van11y-accessible-accordion-aria - ES2015 accessible accordion system, using ARIA (compatible IE9+ when transpiled)
 * @version v2.3.0
 * @link https://van11y.net/accessible-accordion/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-accordion-aria/blob/master/LICENSE
 */
"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){var e="js-accordion",r="js-accordion__header",n="data-accordion-prefix-classes",i="data-accordion-opened",o="data-accordion-multiselectable",a="data-accordion-cool-selectors",c="accordion",u="_tab",l="_panel",s="accordion",f="accordion__title",d="accordion__header",b="accordion__panel",A="tablist",p="tab",v="tabpanel",g="role",y="aria-multiselectable",m="aria-expanded",h="aria-labelledby",_="aria-hidden",E="aria-controls",L="aria-selected",N=function(e){return t.getElementById(e)},T=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},k=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},P=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},C=function(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})},D=function(t){t.forEach(function(t){C(t,_defineProperty({},L,"false"))})},w=function(t){t.setAttribute(L,!0)},x=function(t,e){var r=void 0;t.forEach(function(t,e){"true"===t.getAttribute(L)&&(r=e)}),"next"===e&&(w(t[r+1]),setTimeout(function(){t[r+1].focus()},0)),"prev"===e&&(w(t[r-1]),setTimeout(function(){t[r-1].focus()},0))},S=function(t,e){for(var r=!1,n=t.parentNode;n&&r===!1;)P(n,e)===!0?r=!0:n=n.parentNode;return r===!0?n.getAttribute("id"):""},M=function(){var r=arguments.length<=0||void 0===arguments[0]?t:arguments[0];return[].slice.call(r.querySelectorAll("."+e))},j=function(j){var q=arguments.length<=1||void 0===arguments[1]||arguments[1];M(j).forEach(function(t){var e=Math.random().toString(32).slice(2,12),N=t.hasAttribute(n)===!0?t.getAttribute(n)+"-":"",P=t.hasAttribute(a)===!0;"none"===t.getAttribute(o)?t.setAttribute(y,"false"):t.setAttribute(y,"true"),t.setAttribute(g,A),t.setAttribute("id",e),T(t,N+s);var D=[].slice.call(t.querySelectorAll("."+r));D.forEach(function(n,o){var a,s;if(n.parentNode===t||P!==!1){var A=o+1,y=n.nextElementSibling,D=n.innerHTML,w=document.createElement("BUTTON"),x=n.hasAttribute(i)===!0?n.getAttribute(i):"";w.innerHTML=D,T(w,r),T(w,N+d),C(w,(a={},_defineProperty(a,g,p),_defineProperty(a,"id",c+e+u+A),_defineProperty(a,E,c+e+l+A),_defineProperty(a,L,"false"),_defineProperty(a,"type","button"),a)),n.innerHTML="",n.appendChild(w),T(n,N+f),k(n,r),T(y,N+b),C(y,(s={},_defineProperty(s,g,v),_defineProperty(s,h,c+e+u+A),_defineProperty(s,"id",c+e+l+A),s)),"true"===x?(w.setAttribute(m,"true"),n.removeAttribute(i),y.setAttribute(_,"false")):(w.setAttribute(m,"false"),y.setAttribute(_,"true"))}})}),q&&["click","keydown","focus"].forEach(function(n){t.body.addEventListener(n,function(t){P(t.target,r)===!0&&"focus"===n&&!function(){var n=t.target,i=N(S(n,e)),o=i.hasAttribute(a)===!0,c=[].slice.call(i.querySelectorAll("."+r));o===!1&&(c=c.filter(function(t){return t.parentNode.parentNode===i})),D(c),w(n)}(),P(t.target,r)===!0&&"click"===n&&!function(){var n=t.target,i=N(S(n,e)),o=i.hasAttribute(a)===!0,c=[].slice.call(i.querySelectorAll("."+r)),u=i.getAttribute(y),l=N(n.getAttribute(E)),s=n.getAttribute(m);o===!1&&(c=c.filter(function(t){return t.parentNode.parentNode===i})),"false"===s?(n.setAttribute(m,!0),l.removeAttribute(_)):(n.setAttribute(m,!1),l.setAttribute(_,!0)),"false"===u&&c.forEach(function(t){var e=N(t.getAttribute(E));t!==n?(t.setAttribute(L,!1),t.setAttribute(m,!1),e.setAttribute(_,!0)):t.setAttribute(L,!0)}),setTimeout(function(){n.focus()},0),t.preventDefault()}(),P(t.target,r)===!0&&"keydown"===n&&!function(){var n=t.target,i=N(S(n,e)),o=i.hasAttribute(a)===!0,c=[].slice.call(i.querySelectorAll("."+r));o===!1&&(c=c.filter(function(t){return t.parentNode.parentNode===i})),36===t.keyCode?(D(c),w(c[0]),setTimeout(function(){c[0].focus()},0),t.preventDefault()):35===t.keyCode?(D(c),w(c[c.length-1]),setTimeout(function(){c[c.length-1].focus()},0),t.preventDefault()):37!==t.keyCode&&38!==t.keyCode||t.ctrlKey?40!==t.keyCode&&39!==t.keyCode||t.ctrlKey||("true"===c[c.length-1].getAttribute(L)?(D(c),w(c[0]),setTimeout(function(){c[0].focus()},0),t.preventDefault()):(x(c,"next"),t.preventDefault())):"true"===c[0].getAttribute(L)?(D(c),w(c[c.length-1]),setTimeout(function(){c[c.length-1].focus()},0),t.preventDefault()):(x(c,"prev"),t.preventDefault())}()},!0)})},q=function O(){j(),document.removeEventListener("DOMContentLoaded",O)};document.addEventListener("DOMContentLoaded",q),window.van11yAccessibleAccordionAria=j}(document);